{"version":3,"sources":["constants/api.js","../node_modules/react-bootstrap/esm/Table.js","components/patients/Patients.js"],"names":["env","API","upload","addPatient","editPatient","updatePatient","listPatients","requestPlasma","Table","React","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass","patientsList","Patients","useState","patients","setPatients","loading","setLoading","message","setMessage","history","useHistory","useEffect","Axios","post","page","then","res","data","statusCode","catch","e","DATA","msgError","msgPatients","animation","role","style","textAlign","map","patient","index","name","email","bloodGroup","mobile","onClick","push","id","patientId","renderPatients"],"mappings":"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","file":"static/js/5.609a800a.chunk.js","sourcesContent":["export const URL = {\r\n  local: \"http://localhost:8080/\",\r\n  server: \"https://plasma-donor.herokuapp.com/\",\r\n};\r\n\r\nconst env = URL.server;\r\n\r\nexport const API = {\r\n  upload: `${env}api/patient/upload`,\r\n  addPatient: `${env}api/patient/create`,\r\n  editPatient: `${env}api/patient/findById`,\r\n  updatePatient: `${env}api/patient/update`,\r\n  listPatients: `${env}api/patient/findAll`,\r\n  requestPlasma: `${env}api/plasma/request`,\r\n};\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","// import logo from \"./logo.svg\";\r\nimport Axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Alert, Button, Spinner, Table } from \"react-bootstrap\";\r\nimport { DATA } from \"../../constants/en\";\r\nimport { API } from \"../../constants/api\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst patientsList = [];\r\n\r\nconst Patients = () => {\r\n  const [patients, setPatients] = useState(patientsList);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Axios.post(`${API.listPatients}`, { page: 1, size: 10 })\r\n      .then((res) => {\r\n        if (res && res.data && res.data.statusCode === 200) {\r\n          setLoading(false);\r\n          if (typeof res.data.data === \"string\") {\r\n            setMessage(res.data.data);\r\n          } else {\r\n            setPatients(res.data.data);\r\n          }\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false);\r\n        setMessage(DATA.msgError);\r\n      });\r\n  }, []);\r\n\r\n  const renderSpinner = () => {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <Spinner animation=\"border\" role=\"status\"></Spinner>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const showMessage = () => {\r\n    return loading ? (\r\n      renderSpinner()\r\n    ) : message ? (\r\n      <Alert variant={\"primary\"}>{message}</Alert>\r\n    ) : null;\r\n  };\r\n\r\n  const sendPlasmaRequest = (patientId) => {\r\n    setLoading(true);\r\n    Axios.post(`${API.requestPlasma}/${ patientId }`)\r\n      .then((res) => {\r\n        if (res && res.data && res.data.statusCode === 200) {\r\n          setLoading(false);\r\n          if (typeof res.data.data === \"string\") {\r\n            setMessage(res.data.data);\r\n          } else {\r\n            setMessage(\"Plasma request sent successfully\");\r\n          }\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false);\r\n        setMessage(DATA.msgError);\r\n      });\r\n  };\r\n\r\n  const renderPatients = () => {\r\n    if (patients) {\r\n      return patients.map((patient, index) => {\r\n        return (\r\n          <tr>\r\n            <td>{index + 1}</td>\r\n            <td>{patient.name}</td>\r\n            <td>{patient.email}</td>\r\n            <td>{patient.bloodGroup}</td>\r\n            <td>{patient.mobile}</td>\r\n            <td style={{ textAlign: \"center\" }}>\r\n              <span\r\n                className=\"link\"\r\n                onClick={() => history.push(`patient/${patient.id}`)}\r\n              >\r\n                Edit\r\n              </span>\r\n              <span\r\n                className=\"link\"\r\n                onClick={() => sendPlasmaRequest(patient.id)}\r\n              >\r\n                Raise Plasma Request\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h4 className=\"text-center mar-top-bot-2rem\">{DATA.msgPatients}</h4>\r\n      <hr />\r\n      {showMessage()}\r\n      <br />\r\n      <Table striped bordered hover size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Blood Group</th>\r\n            <th>Mobile No</th>\r\n            <th style={{ textAlign: \"center\" }}>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{renderPatients()}</tbody>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Patients;\r\n"],"sourceRoot":""}